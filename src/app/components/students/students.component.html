<div class="row">
  <form id="studentForm" #studentForm="ngForm" class="row">
    <div class="row">
      <div class="col s6">
        <div class="input-field col-s12">
          <input type="number" name="_id" class="tooltipped" #_id="ngModel" data-position="top" data-tooltip="Para no alumnos dejar vacio. Su matricula será 'NombreApellido'"
            [(ngModel)]="studentService.selectedStudent._id" placeholder="Matricula" autocomplete="off">
        </div>
        <div class="input-field col-s12">
          <input type="text" name="first_name" #first_name="ngModel" [(ngModel)]="studentService.selectedStudent.first_name"
            placeholder="Nombre" autocomplete="off">
        </div>
        <div class="input-field col-s12">
          <input type="text" name="last_name" #last_name="ngModel" [(ngModel)]="studentService.selectedStudent.last_name"
            placeholder="Apellido" autocomplete="off">
        </div>
        <div class="input-field col-s12">
          <ng-select [items]="studentService.careers" bindLabel="name" bindValue="name" groupBy="faculty" name="career"
            placeholder="Escribe la carrera" #career="ngModel" [(ngModel)]="studentService.selectedStudent.career">
            <ng-template ng-optgroup-tmp let-item="item">
              {{item.faculty || 'Unnamed group'}}
            </ng-template>
          </ng-select>
        </div>
        <div class="input-field col-s12">
          <input type="number" name="career_year" #career_year="ngModel" [(ngModel)]="studentService.selectedStudent.career_year"
            placeholder="Año de la carrera">
        </div>
        <div class="input-field col-s12">
          <input type="text" class="tooltipped" data-position="top" data-tooltip="Escribir en formato dd/mm/yyyy" name="birthday"
            #birthday="ngModel" [(ngModel)]="studentService.selectedStudent.birthday" placeholder="Fecha de nacimiento">
        </div>
        <div class="input-field col-s12">
          <input type="email" name="email" #email="ngModel" [(ngModel)]="studentService.selectedStudent.email"
            placeholder="Email">
        </div>
      </div>
      <div class="col s6">
        <div class="input-field col-s12">
          <input type="tel" name="phone" #phone="ngModel" [(ngModel)]="studentService.selectedStudent.phone"
            placeholder="Telefono">
        </div>
        <div class="input-field col-s12">
          <ng-select [items]="studentService.shirt_size" [virtualScroll]="true" bindLabel="name" bindValue="id"
            placeholder="Talla de camisa" name="shirt_size" #shirt_size="ngModel" [(ngModel)]="studentService.selectedStudent.shirt_size">
          </ng-select>
        </div>
        <div class="input-field col-s12">
          <div class="switch">
            <label>
              Externo
              <input id="food-conditional" type="checkbox" name="resident" #resident="ngModel" [(ngModel)]="studentService.selectedStudent.resident"
                [checked]="studentService.selectedStudent.resident">
              <span class="lever"></span>
              Interno
            </label>
          </div>
        </div>
        <div id="residence-field" class="input-field col-s12 food-conditional">
          <input type="number" name="residence" #residence="ngModel" [(ngModel)]="studentService.selectedStudent.residence"
            placeholder="Dormitorio">
        </div>
        <div class="input-field col-s12 food-conditional">
          <p>
            <label>
              <input type="checkbox" name="breakfast" [(ngModel)]="studentService.selectedStudent.breakfast" [checked]="studentService.selectedStudent.breakfast">
              <span>Desayuno</span>
            </label>
          </p>
        </div>
        <div class="input-field col-s12 food-conditional">
          <p>
            <label>
              <input type="checkbox" name="lunch" [(ngModel)]="studentService.selectedStudent.lunch" [checked]="studentService.selectedStudent.lunch">
              <span>Comida</span>
            </label>
          </p>
        </div>
        <div class="input-field col-s12 food-conditional">
          <p>
            <label>
              <input type="checkbox" name="dinner" [(ngModel)]="studentService.selectedStudent.dinner" [checked]="studentService.selectedStudent.dinner">
              <span>Cena</span>
            </label>
          </p>
        </div>
        <div class="input-field col-s12">
          <input type="text" name="blood_type" #blood_type="ngModel" [(ngModel)]="studentService.selectedStudent.blood_type"
            class="tooltipped" data-position="bottom" data-tooltip="Si no sabe, dejarlo en blanco" placeholder="Tipo de sangre">
        </div>
        <div class="input-field col-s12">
          <textarea name="drugs" #drugs="ngModel" [(ngModel)]="studentService.selectedStudent.drugs" class="materialize-textarea"
            placeholder="¿Toma medicamentos?"></textarea>
        </div>
        <div class="input-field col-s12">
          <textarea id="allergy" name="allergy" #allergy="ngModel" [(ngModel)]="studentService.selectedStudent.allergy"
            placeholder="¿Alergias?" class="materialize-textarea"></textarea>
        </div>
        <div class="input-field col-s12">
          <textarea id="allergy" name="recent_illness" #recent_illness="ngModel" [(ngModel)]="studentService.selectedStudent.recent_illness"
            placeholder="Alergias?" class="materialize-textarea"></textarea>
        </div>
      </div>
      <div class="input-field col s12">
        <button class="btn left" (click)="resetForm(studentForm)">Limpiar formulario</button>
        <button id="edit" class="btn right hidden" (click)="editStudent(studentForm)">Guardar</button>
        <button id="submit" type="submit" class="btn right" (click)="addStudent(studentForm)">Guardar</button>
      </div>
    </div>
  </form>
</div>

<div class="row">
  <ngx-table [configuration]="configuration" [data]="data" [columns]="columns">
    <ng-template let-row let-index="index">
      <td>
        <p>{{row._id}}</p>
      </td>
      <td>
        {{row.fullName}}
      </td>
      <td>
        {{row.career}}
      </td>
      <td>
        <a (click)="selectStudent(row)" href="javascript:void(0)">
          <i class="material-icons">edit</i>
        </a>
        <a class="" (click)="deleteStudent(row._id)" href="javascript:void(0)">
          <i class="material-icons">delete</i>
        </a>
      </td>
    </ng-template>
  </ngx-table>
  <!-- <table>
    <thead>
      <th>Matricula</th>
      <th>Nombre</th>
      <th>Carrera</th>
      <th>Operaciones</th>
    </thead>
    <tbody>
      <tr *ngFor="let student of studentService.students">
        <td> {{ student._id }}</td>
        <td> {{ student.first_name}} {{student.last_name}}</td>
        <td> {{ student.career }}</td>
        <td>
          <a (click)="selectStudent(student)" href="javascript:void(0)">
            <i class="material-icons">edit</i>
          </a>
          <a class="" (click)="deleteStudent(student._id)" href="javascript:void(0)">
            <i class="material-icons">delete</i>
          </a>
        </td>
      </tr>
    </tbody>
  </table> -->

</div>
